(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},276:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,u,l,b,p,d,h,m,g,f,O,j,v,y,E,w,C,k,T,x,U,S,I,G,N,M,z,A,P,L,R,q,D,H,_,F,Q,W,B,J,Y,V,K,X,Z,$,ee,te,ne,re,ae,ie,ce,oe,se,ue,le,be,pe,de,he,me,ge,fe,Oe,je,ve,ye,Ee,we,Ce,ke,Te,xe,Ue,Se,Ie,Ge,Ne,Me,ze,Ae,Pe,Le,Re,qe,De,He,_e,Fe,Qe,We,Be,Je,Ye,Ve,Ke,Xe,Ze,$e,et,tt=n(0),nt=n.n(tt),rt=n(19),at=n.n(rt),it=n(6),ct=(n(103),n(5)),ot=n(8),st=n(10),ut=n(9),lt=n(11),bt=n(280),pt=n(277),dt=(n(105),n(279)),ht=n(26),mt=(r=Object(it.b)(function(e){return{dummyLogin:e.store.dummyLogin}}),r(a=Object(it.c)(a=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("input",{type:"text",placeholder:"Username"}),nt.a.createElement("br",null),nt.a.createElement("button",{className:"btn",type:"button",onClick:this.props.dummyLogin},"Login"),nt.a.createElement("br",null),nt.a.createElement("small",null,nt.a.createElement("i",null,"hard-coded login user 'Ami' for now")))}}]),t}(tt.Component))||a)||a),gt=mt,ft=(i=Object(it.b)(function(e){return{isModal:e.store.isLoginModal,toggleModal:e.store.toggleLoginModal}}),i(c=Object(it.c)(c=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement(ht.a,{open:this.props.isModal,onClose:this.props.toggleModal,closeOnEsc:!1,closeOnOverlayClick:!1},nt.a.createElement(gt,null))}}]),t}(tt.Component))||c)||c),Ot=ft,jt=(o=Object(it.b)(function(e){return{toggleModal:e.store.toggleLoginModal}}),o(s=Object(it.c)(s=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("span",{onClick:this.props.toggleModal},"Login"),nt.a.createElement(Ot,null))}}]),t}(tt.Component))||s)||s),vt=jt,yt=(u=Object(it.b)(function(e){return{currentUserExists:e.store.currentUserExists,username:e.store.currentUser?e.store.currentUser.name||e.store.currentUser.email||e.store.currentUser.phone:"",logout:e.store.logout}}),u(l=Object(it.c)(l=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUserExists,n=e.logout,r=e.username;return nt.a.createElement("div",{className:"login-btn"},t?nt.a.createElement("span",{onClick:n},"Hi ".concat(r,", Logout")):nt.a.createElement(vt,null))}}]),t}(tt.Component))||l)||l),Et=yt,wt=function(e){function t(){var e;return Object(ct.a)(this,t),(e=Object(st.a)(this,Object(ut.a)(t).call(this))).links=[{title:"Surprizer",to:"/"},{title:"My Events",to:"/events"},{title:"About",to:"/about"}],e}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",{className:"outer-wrapper"},nt.a.createElement("div",{className:"container nav-container"},this.links.map(function(e,t){return nt.a.createElement(dt.a,{key:t,to:e.to,activeClassName:"active-link",exact:!0},e.title)}),nt.a.createElement(Et,null)))}}]),t}(tt.Component),Ct=wt,kt=n(96),Tt=n.n(kt),xt=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,this.props.isLoading?nt.a.createElement("div",{className:"loader-container"},nt.a.createElement(Tt.a,{type:"Circles",color:"#9c27b0",height:this.props.height||80})):nt.a.createElement("div",null,this.props.children))}}]),t}(tt.Component),Ut=xt,St=n(7),It=n(3),Gt=n(4),Nt=(n(18),n(2)),Mt=n(22),zt=Object(it.c)((p=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"handleChange",d,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props.guest;return nt.a.createElement("div",{className:"guest-input"},nt.a.createElement("select",{name:"type",value:e.type,onChange:this.handleChange,required:!0},nt.a.createElement("option",{value:"",disabled:!0},"-"),nt.a.createElement("option",{value:"email"},"Email"),nt.a.createElement("option",{value:"phone"},"Phone")),"email"===e.type&&nt.a.createElement("input",{name:"email",type:"email",placeholder:"Email",onChange:this.handleChange,value:e.email,required:!0}),"phone"===e.type&&nt.a.createElement("input",{name:"phone",type:"tel",placeholder:"Phone",onChange:this.handleChange,value:e.phone,required:!0}))}}]),t}(tt.Component),d=Object(Gt.a)(p.prototype,"handleChange",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.props.updateGuest(e.props.index,t.target.name,t.target.value)}}}),b=p))||b,At=zt,Pt=Object(it.c)((m=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"guests",g,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"addInput",f,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"updateGuest",O,Object(It.a)(Object(It.a)(n))),n.guestsChange=Object(Nt.m)(function(){return n.guests.map(function(e){return Object(Mt.a)({},e)})},function(e){return n.props.setUsersFromPicker(e,n.props.roleId)}),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this;return nt.a.createElement("div",{className:"guest-picker"},this.guests.map(function(t,n){return nt.a.createElement(At,{key:n,guest:t,index:n,updateGuest:e.updateGuest})}),nt.a.createElement("button",{className:"icon-button",type:"button",onClick:this.addInput},"+"))}}]),t}(tt.Component),g=Object(Gt.a)(m.prototype,"guests",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{type:"",email:"",phone:""}]}}),f=Object(Gt.a)(m.prototype,"addInput",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.guests.push({type:"",email:"",phone:""})}}}),O=Object(Gt.a)(m.prototype,"updateGuest",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r){e.guests[t][n]=r}}}),h=m))||h,Lt=Object(it.b)(function(e){return{addEvent:e.store.addEvent,isLoading:e.store.isLoading}})(j=Object(it.c)((v=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"title",y,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"date",E,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"users",w,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChange",C,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"setUsersFromPicker",k,Object(It.a)(Object(It.a)(n))),n.handleSubmit=function(e){e.preventDefault(),n.props.addEvent(n.title,n.date,n.users,!0)},n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("h2",null,"New Event"),nt.a.createElement("form",{className:"form new-event-form",onSubmit:this.handleSubmit},nt.a.createElement("label",null,"Title:"),nt.a.createElement("input",{name:"title",type:"text",placeholder:"Title",onChange:this.handleChange,value:this.title,required:!0}),nt.a.createElement("label",null,"Date:"),nt.a.createElement("input",{name:"date",type:"datetime-local",placeholder:"date",onChange:this.handleChange,value:this.date,required:!0}),nt.a.createElement("label",null,"Guests:"),nt.a.createElement(Pt,{roleId:2,setUsersFromPicker:this.setUsersFromPicker}),nt.a.createElement("label",null,"Surprisees:"),nt.a.createElement(Pt,{roleId:3,setUsersFromPicker:this.setUsersFromPicker}),nt.a.createElement(Ut,{isLoading:this.props.isLoading,height:40},nt.a.createElement("button",{className:"btn",type:"submit"},"Save"))))}}]),t}(tt.Component),y=Object(Gt.a)(v.prototype,"title",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=Object(Gt.a)(v.prototype,"date",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(Gt.a)(v.prototype,"users",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=Object(Gt.a)(v.prototype,"handleChange",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]=t.target.value}}}),k=Object(Gt.a)(v.prototype,"setUsersFromPicker",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.users[n]=t}}}),j=v))||j)||j,Rt=Object(it.b)(function(e){return{isModal:e.store.isNewEventModal,toggleModal:e.store.toggleNewEventModal}})(T=Object(it.c)(T=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement(ht.a,{open:this.props.isModal,onClose:this.props.toggleModal,center:!0,styles:{modal:{width:"100%"}}},nt.a.createElement(Lt,null))}}]),t}(tt.Component))||T)||T,qt=n(118),Dt=n(27),Ht=n.n(Dt),_t=Object(it.b)(function(e){return{userId:e.store.currentUser?e.store.currentUser.id:null}})(x=Object(it.c)(x=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a)))).getEvents=function(){var e=n.props,t=e.events,r=e.userId,a=e.type;return t.map(function(e){return nt.a.createElement("div",{key:e.id},nt.a.createElement("span",null,e.title),nt.a.createElement("span",null,Ht()(e.date).format("L HH:mm")),nt.a.createElement("span",null,nt.a.createElement(qt.a,{to:"/events/".concat(e.id,"/").concat(r)},"details")),nt.a.createElement("span",null,nt.a.createElement(qt.a,{to:"/events/".concat(e.id,"/").concat(r,"/greetings")},"greetings")),"current"===a&&nt.a.createElement("span",null,nt.a.createElement(qt.a,{to:"/events/".concat(e.id,"/").concat(r,"/party")},"party!")))})},n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("h3",null,this.props.title),nt.a.createElement("div",{className:"user-events"},this.props.events.length?this.getEvents():"Nothing at the moment..."))}}]),t}(tt.Component))||x)||x,Ft=Object(it.b)(function(e){return{toggleModal:e.store.toggleNewEventModal,isLoading:e.store.isLoading,isSignedIn:e.store.isSignedIn,futureUserEvents:e.store.futureUserEvents,currentParties:e.store.currentParties}})(U=Object(it.c)(U=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",{className:"outer-wrapper home"},nt.a.createElement("div",{className:"container"},nt.a.createElement("div",{className:"hero"},nt.a.createElement("div",null,nt.a.createElement("div",{className:"title"},"Surprize!"),nt.a.createElement("div",{className:"description"},nt.a.createElement("b",null,"Surprizer")," lets you organize virtual surprise parties."),this.props.isSignedIn&&nt.a.createElement("button",{className:"btn",type:"button",onClick:this.props.toggleModal},"New Event"),nt.a.createElement(Rt,null))),nt.a.createElement(Ut,{isLoading:this.props.isLoading},nt.a.createElement(_t,{title:"Current Parties",events:this.props.currentParties,type:"current"}),nt.a.createElement(_t,{title:"Upcoming Events",events:this.props.futureUserEvents,type:"future"}))))}}]),t}(tt.Component))||U)||U,Qt=Object(it.b)(function(e){return{greetingTabsTitles:e.store.greetingTabsTitles,setGreetingType:e.store.setGreetingType,type:e.store.currentGreetingType}})(S=Object(it.c)(S=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this;return nt.a.createElement("div",{className:"greeting-tabs-container"},this.props.greetingTabsTitles.map(function(t){return nt.a.createElement("span",{onClick:function(){return e.props.setGreetingType(t.id)},className:"greeting-tab ".concat(e.props.type===t.id?"active-tab":""),key:t.id},t.title," ",t.count>0&&nt.a.createElement("span",{className:"greeting-tab-pill"},t.count))}))}}]),t}(tt.Component))||S)||S,Wt=n(46),Bt=n.n(Wt),Jt=(n(85),n(97)),Yt=n.n(Jt),Vt=n(33),Kt=n(34),Xt=Object(it.b)(function(e){return{updateGreeting:e.store.updateGreeting,deleteGreeting:e.store.deleteGreeting}})(I=Object(it.c)((G=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"text",N,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"isEditMode",M,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"componentDidMount",z,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChange",A,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChangeQuill",P,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleCancel",L,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleSaveText",R,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleDelete",q,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"toggleEdit",D,Object(It.a)(Object(It.a)(n))),n.quillModules={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props.greeting;return nt.a.createElement("div",{className:"greeting-wrapper"},nt.a.createElement("div",{className:"left"},this.isEditMode?nt.a.createElement("div",null,nt.a.createElement(Bt.a,{theme:"snow",value:this.text,onChange:this.handleChangeQuill,modules:this.quillModules}),nt.a.createElement("div",{className:"buttons"},nt.a.createElement("span",{onClick:this.handleSaveText,title:"Save"},nt.a.createElement(Vt.a,{icon:Kt.b})),nt.a.createElement("span",{onClick:this.handleCancel,title:"Cancel"},nt.a.createElement(Vt.a,{icon:Kt.c})))):nt.a.createElement("div",{className:"readonly"},Yt()(e.text),nt.a.createElement("div",{className:"buttons"},nt.a.createElement("span",{onClick:this.toggleEdit,title:"Edit"},nt.a.createElement(Vt.a,{icon:Kt.a})),nt.a.createElement("span",{onClick:this.handleDelete,title:"Delete"},nt.a.createElement(Vt.a,{icon:Kt.d}))))),nt.a.createElement("div",{className:"right"},nt.a.createElement("div",null,e.user&&e.user.name)))}}]),t}(tt.Component),N=Object(Gt.a)(G.prototype,"text",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=Object(Gt.a)(G.prototype,"isEditMode",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=Object(Gt.a)(G.prototype,"componentDidMount",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.text=e.props.greeting.text}}}),A=Object(Gt.a)(G.prototype,"handleChange",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]=t.target.value}}}),P=Object(Gt.a)(G.prototype,"handleChangeQuill",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.text=t}}}),L=Object(Gt.a)(G.prototype,"handleCancel",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.toggleEdit(),e.text=e.props.greeting.text}}}),R=Object(Gt.a)(G.prototype,"handleSaveText",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.updateGreeting(e.props.greeting.id,{text:e.text}),e.toggleEdit()}}}),q=Object(Gt.a)(G.prototype,"handleDelete",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.deleteGreeting(e.props.greeting.id)}}}),D=Object(Gt.a)(G.prototype,"toggleEdit",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isEditMode=!e.isEditMode}}}),I=G))||I)||I,Zt=Object(it.b)(function(e){return{greetings:e.store.currentGreetings,type:e.store.currentGreetingType}})(H=Object(it.c)(H=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this;return nt.a.createElement("div",null,this.props.greetings.filter(function(t){return t.typeId===e.props.type}).map(function(e){return nt.a.createElement(Xt,{key:e.id,greeting:e})}))}}]),t}(tt.Component))||H)||H,$t=Object(it.b)(function(e){return{createGreeting:e.store.createGreeting,isLoading:e.store.isLoading}})(_=Object(it.c)((F=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"text",Q,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"isPrivate",W,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"typeId",B,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChange",J,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChangeQuill",Y,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleSubmit",V,Object(It.a)(Object(It.a)(n))),n.quillModules={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("h2",null,"Add Greeting"),nt.a.createElement("form",{className:"form new-greeting-form",onSubmit:this.handleSubmit},nt.a.createElement("label",null,1===this.typeId?"Greeting":"Title",":"),1===this.typeId?nt.a.createElement(Bt.a,{theme:"snow",value:this.text,onChange:this.handleChangeQuill,modules:this.quillModules}):nt.a.createElement("input",{name:"text",type:"text",placeholder:"Greeting",onChange:this.handleChange,value:this.text,required:!0}),nt.a.createElement("label",null,"Private:"),nt.a.createElement("input",{name:"isPrivate",type:"checkbox",checked:this.isPrivate,onChange:this.handleChange}),nt.a.createElement(Ut,{isLoading:this.props.isLoading,height:40},nt.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(tt.Component),Q=Object(Gt.a)(F.prototype,"text",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),W=Object(Gt.a)(F.prototype,"isPrivate",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=Object(Gt.a)(F.prototype,"typeId",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),J=Object(Gt.a)(F.prototype,"handleChange",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]="checkbox"===t.target.type?t.target.checked:t.target.value}}}),Y=Object(Gt.a)(F.prototype,"handleChangeQuill",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.text=t}}}),V=Object(Gt.a)(F.prototype,"handleSubmit",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),e.props.createGreeting(e.text,e.isPrivate,e.typeId)}}}),_=F))||_)||_,en=Object(it.b)(function(e){return{isModal:e.store.isAddGreetingModal,toggleModal:e.store.toggleAddGreetingModal}})(K=Object(it.c)(K=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement(ht.a,{open:this.props.isModal,onClose:this.props.toggleModal,center:!0,styles:{modal:{width:"100%"}}},nt.a.createElement($t,null))}}]),t}(tt.Component))||K)||K,tn=Object(it.b)(function(e){return{toggleModal:e.store.toggleAddGreetingModal}})(X=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("button",{type:"button",onClick:this.props.toggleModal},"Add Greeting"),nt.a.createElement(en,null))}}]),t}(tt.Component))||X,nn=Object(it.b)(function(e){return{getGreetingTypes:e.store.getGreetingTypes}})(Z=Object(it.c)(Z=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=function(){n.props.getGreetingTypes()},n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement(Qt,null),nt.a.createElement(Zt,null),nt.a.createElement(tn,null))}}]),t}(tt.Component))||Z)||Z,rn=function(e){function t(e){var n;return Object(ct.a)(this,t),(n=Object(st.a)(this,Object(ut.a)(t).call(this,e))).state={username:""},n.onSubmit=n.onSubmit.bind(Object(It.a)(Object(It.a)(n))),n.onChange=n.onChange.bind(Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"onChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("div",null,nt.a.createElement("form",{onSubmit:this.onSubmit},nt.a.createElement("input",{type:"text",placeholder:"Name",onChange:this.onChange,required:!0}),nt.a.createElement("br",null),nt.a.createElement("button",{className:"btn",type:"submit"},"Join Chat"))))}}]),t}(tt.Component),an=n(61),cn=n(60),on=n.n(cn),sn=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e={container:{overflowY:"scroll",flex:1},ul:{listStyle:"none"},li:{marginTop:13,marginBottom:13},senderUsername:{fontWeight:"bold"},message:{fontSize:15}};return nt.a.createElement("div",{style:Object(Mt.a)({},this.props.style,e.container)},nt.a.createElement("ul",{style:e.ul},this.props.messages.map(function(t,n){return nt.a.createElement("li",{key:n,style:e.li},nt.a.createElement("div",null,nt.a.createElement("span",{style:e.senderUsername},t.senderId)," "),nt.a.createElement("p",{style:e.message},t.text))})))}}]),t}(tt.Component),un=function(e){function t(e){var n;return Object(ct.a)(this,t),(n=Object(st.a)(this,Object(ut.a)(t).call(this,e))).state={text:""},n.onSubmit=n.onSubmit.bind(Object(It.a)(Object(It.a)(n))),n.onChange=n.onChange.bind(Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.text),this.setState({text:""})}},{key:"onChange",value:function(e){this.setState({text:e.target.value}),this.props.onChange&&this.props.onChange()}},{key:"render",value:function(){var e={container:{padding:20,borderTop:"1px #4C758F solid",marginBottom:20},form:{display:"flex"},input:{color:"inherit",background:"none",outline:"none",border:"none",flex:1,fontSize:16}};return nt.a.createElement("div",{style:e.container},nt.a.createElement("div",null,nt.a.createElement("form",{onSubmit:this.onSubmit,style:e.form},nt.a.createElement("input",{type:"text",placeholder:"Type a message here then hit ENTER",onChange:this.onChange,value:this.state.text,style:e.input}))))}}]),t}(tt.Component),ln=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return this.props.usersWhoAreTyping.length>0?nt.a.createElement("div",null,"".concat(this.props.usersWhoAreTyping.slice(0,2).join(" and ")," is typing")):nt.a.createElement("div",null)}}]),t}(tt.Component),bn=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"renderUsers",value:function(){var e=this;return nt.a.createElement("ul",null,this.props.users.map(function(t,n){return t.id===e.props.currentUser.id?nt.a.createElement(pn,{key:n,presenceState:"online"},t.name," (You)"):nt.a.createElement(pn,{key:n,presenceState:t.presence.state},t.name)}))}},{key:"render",value:function(){return this.props.users?this.renderUsers():nt.a.createElement("p",null,"Loading...")}}]),t}(tt.Component),pn=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e={li:{display:"flex",alignItems:"center",marginTop:5,marginBottom:5,paddingTop:2,paddingBottom:2},div:{borderRadius:"50%",width:11,height:11,marginRight:10}};return nt.a.createElement("li",{style:e.li},nt.a.createElement("div",{style:Object(Mt.a)({},e.div,{backgroundColor:"online"===this.props.presenceState?"#539eff":"#414756"})}),this.props.children)}}]),t}(tt.Component),dn=bn,hn=Object(it.b)(function(e){return{chatRoomId:e.store.currentEvent.chatRoomId}})($=Object(it.c)($=function(e){function t(e){var n;return Object(ct.a)(this,t),(n=Object(st.a)(this,Object(ut.a)(t).call(this,e))).state={currentUser:{},currentRoom:{},messages:[],usersWhoAreTyping:[]},n.sendMessage=n.sendMessage.bind(Object(It.a)(Object(It.a)(n))),n.sendTypingEvent=n.sendTypingEvent.bind(Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"sendMessage",value:function(e){this.state.currentUser.sendMessage({text:e,roomId:this.state.currentRoom.id})}},{key:"sendTypingEvent",value:function(){this.state.currentUser.isTypingIn({roomId:this.state.currentRoom.id}).catch(function(e){return console.error("error",e)})}},{key:"componentDidMount",value:function(){var e=this;new on.a.ChatManager({instanceLocator:"v1:us1:09d50864-3dac-4251-b92a-0b851b4da892",userId:this.props.currentUsername,tokenProvider:new on.a.TokenProvider({url:"http://localhost:5000/chat/authenticate"})}).connect().then(function(t){return e.setState({currentUser:t}),t.subscribeToRoom({roomId:e.props.chatRoomId,messageLimit:100,hooks:{onNewMessage:function(t){e.setState({messages:Object(an.a)(e.state.messages).concat([t])})},onUserStartedTyping:function(t){e.setState({usersWhoAreTyping:Object(an.a)(e.state.usersWhoAreTyping).concat([t.name])})},onUserStoppedTyping:function(t){e.setState({usersWhoAreTyping:e.state.usersWhoAreTyping.filter(function(e){return e!==t.name})})},onUserCameOnline:function(){return e.forceUpdate()},onUserWentOffline:function(){return e.forceUpdate()},onUserJoined:function(){return e.forceUpdate()}}})}).then(function(t){e.setState({currentRoom:t})}).catch(function(e){return console.error("error",e)})}},{key:"render",value:function(){var e={container:{height:"100vh",display:"flex",flexDirection:"column"},chatContainer:{display:"flex",flex:1},whosOnlineListContainer:{width:"300px",flex:"none",padding:20,backgroundColor:"#2c303b",color:"white"},chatListContainer:{padding:20,width:"85%",display:"flex",flexDirection:"column"}};return nt.a.createElement("div",{style:e.container},nt.a.createElement("div",{style:e.chatContainer},nt.a.createElement("aside",{style:e.whosOnlineListContainer},nt.a.createElement(dn,{currentUser:this.state.currentUser,users:this.state.currentRoom.users})),nt.a.createElement("section",{style:e.chatListContainer},nt.a.createElement(sn,{messages:this.state.messages,style:e.chatList}),nt.a.createElement(ln,{usersWhoAreTyping:this.state.usersWhoAreTyping}),nt.a.createElement(un,{onSubmit:this.sendMessage,onChange:this.sendTypingEvent}))))}}]),t}(tt.Component))||$)||$,mn=function(e){function t(){var e;return Object(ct.a)(this,t),(e=Object(st.a)(this,Object(ut.a)(t).call(this))).state={currentUsername:"",currentScreen:"WhatIsYourUsernameScreen"},e.onUsernameSubmitted=e.onUsernameSubmitted.bind(Object(It.a)(Object(It.a)(e))),e}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"onUsernameSubmitted",value:function(e){var t=this;fetch("http://localhost:5000/chat/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then(function(n){t.setState({currentUsername:e,currentScreen:"ChatScreen"})}).catch(function(e){return console.error("error",e)})}},{key:"render",value:function(){return"WhatIsYourUsernameScreen"===this.state.currentScreen?nt.a.createElement(rn,{onSubmit:this.onUsernameSubmitted}):"ChatScreen"===this.state.currentScreen?nt.a.createElement(hn,{currentUsername:this.state.currentUsername}):void 0}}]),t}(tt.Component),gn=Object(it.b)(function(e){return{event:e.store.currentEvent,user:e.store.currentUser,getEventFull:e.store.getEventFull,isLoading:e.store.isLoading,createChatRoom:e.store.createChatRoom,parseQueryParams:e.store.parseQueryParams}})(ee=Object(it.c)((te=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"componentDidMount",ne,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props.event;return nt.a.createElement("div",{className:"outer-wrapper party"},nt.a.createElement("div",{className:"container"},nt.a.createElement("div",{className:"hero"},nt.a.createElement("div",null,nt.a.createElement("div",{className:"title"},"Party on!"),nt.a.createElement("div",{className:"description"},"This is the real party! Chat with people and mingle."))),nt.a.createElement(Ut,{isLoading:this.props.isLoading},e&&!e.chatRoomId&&nt.a.createElement("div",null,nt.a.createElement("button",{type:"button",onClick:this.props.createChatRoom},"Create chat"),nt.a.createElement("small",null,"will be auto created")),e&&nt.a.createElement("h3",null,"Welcome to ",e.title),e&&e.chatRoomId&&nt.a.createElement(mn,null),this.props.user&&nt.a.createElement("h2",null,this.props.user.name),nt.a.createElement(nn,null))))}}]),t}(tt.Component),ne=Object(Gt.a)(te.prototype,"componentDidMount",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),ee=te))||ee)||ee,fn=Object(it.b)(function(e){return{event:e.store.currentEvent,getEventFull:e.store.getEventFull,isLoading:e.store.isLoading,parseQueryParams:e.store.parseQueryParams}})(re=Object(it.c)((ae=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"componentDidMount",ie,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement(Ut,{isLoading:this.props.isLoading},this.props.event&&this.props.event.title,nt.a.createElement(nn,null))}}]),t}(tt.Component),ie=Object(Gt.a)(ae.prototype,"componentDidMount",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),re=ae))||re)||re,On=Object(it.b)(function(e){return{updateUser:e.store.updateUser}})(ce=Object(it.c)((oe=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"userName",se,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleChange",ue,Object(It.a)(Object(It.a)(n))),Object(St.a)(n,"handleSubmit",le,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("form",{onSubmit:this.handleSubmit},nt.a.createElement("label",null,"Please enter your name as you would like it to appear in the greeting:"),nt.a.createElement("input",{type:"text",name:"userName",value:this.userName,placeholder:"Name",onChange:this.handleChange,required:!0}),nt.a.createElement("button",{type:"submit"},"Save"))}}]),t}(tt.Component),se=Object(Gt.a)(oe.prototype,"userName",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=Object(Gt.a)(oe.prototype,"handleChange",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]=t.target.value}}}),le=Object(Gt.a)(oe.prototype,"handleSubmit",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),e.props.updateUser({name:e.userName})}}}),ce=oe))||ce)||ce,jn=Object(it.b)(function(e){return{userName:e.store.currentUser?e.store.currentUser.name:null}})(be=Object(it.c)(be=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props.userName;return nt.a.createElement("div",null,e?nt.a.createElement("div",null,"Hi ",e):nt.a.createElement(On,null))}}]),t}(tt.Component))||be)||be,vn=Object(it.b)(function(e){return{parseQueryParams:e.store.parseQueryParams,eventTitle:e.store.currentEvent?e.store.currentEvent.title:null,roleTItle:e.store.currentRole?e.store.currentRole.title:null}})(pe=Object(it.c)((de=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"componentDidMount",he,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",null,nt.a.createElement("h1",null,"Greetings for ",this.props.eventTitle),nt.a.createElement(jn,null),nt.a.createElement("div",null,"Your are here as ",this.props.roleTItle,". Here you can write greetings and upload files that will be seen on the surprize party."),nt.a.createElement(nn,null))}}]),t}(tt.Component),he=Object(Gt.a)(de.prototype,"componentDidMount",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),pe=de))||pe)||pe,yn=n(281),En=Object(it.b)(function(e){return{redirectTo:e.store.redirectTo,resetRedirectTo:e.store.resetRedirectTo}})(me=Object(it.c)((ge=function(e){function t(){var e,n;Object(ct.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(st.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(a))),Object(St.a)(n,"componentDidMount",fe,Object(It.a)(Object(It.a)(n))),n}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){var e=this.props.redirectTo;return nt.a.createElement(yn.a,{to:e})}}]),t}(tt.Component),fe=Object(Gt.a)(ge.prototype,"componentDidMount",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.resetRedirectTo()}}}),me=ge))||me)||me,wn=Object(it.b)(function(e){return{isLoading:e.store.isLoading,userEvents:e.store.userEvents}})(Oe=Object(it.c)(Oe=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",{className:"outer-wrapper events"},nt.a.createElement("div",{className:"container"},nt.a.createElement("div",{className:"hero"},nt.a.createElement("div",null,nt.a.createElement("div",{className:"title"},"Events"),nt.a.createElement("div",{className:"description"},"Here you can view all your events, past present & future."))),nt.a.createElement(Ut,{isLoading:this.props.isLoading},nt.a.createElement(_t,{title:"My Events",events:this.props.userEvents,type:"all"}))))}}]),t}(tt.Component))||Oe)||Oe,Cn=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement("div",{className:"outer-wrapper about"},nt.a.createElement("div",{className:"container"},nt.a.createElement("div",{className:"hero"},nt.a.createElement("div",null,nt.a.createElement("div",{className:"title"},"About"),nt.a.createElement("div",{className:"description"},"A little bit about Surprizer and me."))),nt.a.createElement("h3",null,"About Me"),nt.a.createElement("div",null,"I'm me"),nt.a.createElement("h3",null,"Photo Credits"),nt.a.createElement("ul",null,nt.a.createElement("li",null,"Photo by Jason Leung on Unsplash"),nt.a.createElement("li",null,"Photo by Adi Goldstein on Unsplash"))))}}]),t}(tt.Component),kn=Object(it.b)(function(e){return{redirectTo:e.store.redirectTo}})(je=Object(it.c)(je=function(e){function t(){return Object(ct.a)(this,t),Object(st.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(lt.a)(t,e),Object(ot.a)(t,[{key:"render",value:function(){return nt.a.createElement(bt.a,null,nt.a.createElement("div",null,this.props.redirectTo&&nt.a.createElement(En,null),nt.a.createElement(Ct,null),nt.a.createElement(pt.a,{path:"/",exact:!0,render:function(){return nt.a.createElement(Ft,null)}}),nt.a.createElement(pt.a,{path:"/events",exact:!0,render:function(){return nt.a.createElement(wn,null)}}),nt.a.createElement(pt.a,{path:"/about",exact:!0,render:function(){return nt.a.createElement(Cn,null)}}),nt.a.createElement(pt.a,{path:"/events/:eventId/:userId",exact:!0,render:function(e){var t=e.match;return nt.a.createElement(fn,{eventId:t.params.eventId,userId:t.params.userId})}}),nt.a.createElement(pt.a,{path:"/events/:eventId/:userId/party",exact:!0,render:function(e){var t=e.match;return nt.a.createElement(gn,{eventId:t.params.eventId,userId:t.params.userId})}}),nt.a.createElement(pt.a,{path:"/events/:eventId/:userId/greetings",exact:!0,render:function(e){var t=e.match;return nt.a.createElement(vn,{eventId:t.params.eventId,userId:t.params.userId})}})))}}]),t}(tt.Component))||je)||je,Tn=n(12),xn=n.n(Tn),Un=n(14),Sn=n(24),In=n.n(Sn),Gn=new function e(){Object(ct.a)(this,e),this.queryApi=function(){var e=Object(Un.a)(xn.a.mark(function e(t,n,r){var a;return xn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="get"===e.t0?4:"post"===e.t0?8:"put"===e.t0?12:"delete"===e.t0?16:20;break;case 4:return e.next=6,In.a.get(n);case 6:return a=e.sent,e.abrupt("break",21);case 8:return e.next=10,In.a.post(n,r);case 10:return a=e.sent,e.abrupt("break",21);case 12:return e.next=14,In.a.put(n,r);case 14:return a=e.sent,e.abrupt("break",21);case 16:return e.next=18,In.a.delete(n);case 18:return a=e.sent,e.abrupt("break",21);case 20:throw new Error("Unexpected method: ".concat(t));case 21:return e.abrupt("return",a.data);case 24:throw e.prev=24,e.t1=e.catch(0),e.t1;case 27:case"end":return e.stop()}},e,this,[[0,24]])}));return function(t,n,r){return e.apply(this,arguments)}}(),this.EVENTS_PATH="/events",this.GREETING_PATH="/greetings",this.GREETING_TYPES_PATH="".concat(this.GREETING_PATH,"/types"),this.USERS_PATH="/users",this.CHAT_PATH="/chat",this.CHAT_ROOMS_PATH="".concat(this.CHAT_PATH,"/rooms")},Nn=new function e(){Object(ct.a)(this,e),this.getEventFull=function(e,t){var n="".concat(Gn.EVENTS_PATH,"/").concat(e,"/").concat(t);return Gn.queryApi("get",n)},this.getUserById=function(e){var t="".concat(Gn.USERS_PATH,"/").concat(e);return Gn.queryApi("get",t)},this.getEventsByUser=function(e){var t="".concat(Gn.USERS_PATH,"/").concat(e).concat(Gn.EVENTS_PATH);return Gn.queryApi("get",t)},this.createEvent=function(e){var t=Gn.EVENTS_PATH;return Gn.queryApi("post",t,e)},this.createChatRoom=function(e){var t=Gn.CHAT_ROOMS_PATH;return Gn.queryApi("post",t,{eventId:e})},this.updateUser=function(e,t){var n="".concat(Gn.USERS_PATH,"/").concat(e);return Gn.queryApi("put",n,t)},this.getGreetingTypes=function(){var e="".concat(Gn.GREETING_TYPES_PATH);return Gn.queryApi("get",e)},this.updateGreeting=function(e,t){var n="".concat(Gn.GREETING_PATH,"/").concat(e);return Gn.queryApi("put",n,t)},this.createGreeting=function(e){var t=Gn.GREETING_PATH;return Gn.queryApi("post",t,e)},this.deleteGreeting=function(e){var t="".concat(Gn.GREETING_PATH,"/").concat(e);return Gn.queryApi("delete",t)}},Mn="user",zn=new(ve=function(){function e(){var t=this;Object(ct.a)(this,e),Object(St.a)(this,"currentEvent",ye,this),Object(St.a)(this,"currentUser",Ee,this),Object(St.a)(this,"currentRole",we,this),Object(St.a)(this,"currentGreetings",Ce,this),Object(St.a)(this,"userEvents",ke,this),Object(St.a)(this,"greetingTypes",Te,this),Object(St.a)(this,"currentGreetingType",xe,this),Object(St.a)(this,"isSignedIn",Ue,this),Object(St.a)(this,"queryParams",Se,this),Object(St.a)(this,"isLoginModal",Ie,this),Object(St.a)(this,"isNewEventModal",Ge,this),Object(St.a)(this,"isAddGreetingModal",Ne,this),Object(St.a)(this,"isLoading",Me,this),Object(St.a)(this,"redirectTo",ze,this),Object(St.a)(this,"initialize",Ae,this),Object(St.a)(this,"parseQueryParams",Pe,this),Object(St.a)(this,"dummyLogin",Le,this),Object(St.a)(this,"getUserFromStorage",Re,this),Object(St.a)(this,"getEventFull",qe,this),Object(St.a)(this,"getGreetingTypes",De,this),Object(St.a)(this,"setGreetingType",He,this),Object(St.a)(this,"getUser",_e,this),Object(St.a)(this,"getEventsByUser",Fe,this),Object(St.a)(this,"addEvent",Qe,this),Object(St.a)(this,"updateUser",We,this),Object(St.a)(this,"createGreeting",Be,this),Object(St.a)(this,"updateGreeting",Je,this),Object(St.a)(this,"deleteGreeting",Ye,this),Object(St.a)(this,"logout",Ve,this),this.getEventDetails=Object(Nt.m)(function(){return Object(Mt.a)({},t.queryParams)},function(e){e.userId&&e.eventId&&t.getEventFull(e.eventId,e.userId)}),this.updateUserInStorage=Object(Nt.m)(function(){return Object(Mt.a)({},t.currentUser)},Object(Un.a)(xn.a.mark(function e(){return xn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentUser){e.next=7;break}return localStorage.setItem(Mn,JSON.stringify(t.currentUser)),t.isSignedIn=!0,e.next=5,t.getEventsByUser();case 5:e.next=10;break;case 7:localStorage.removeItem(Mn),t.isSignedIn=!1,t.userEvents=[];case 10:case"end":return e.stop()}},e,this)}))),Object(St.a)(this,"toggleLoginModal",Ke,this),Object(St.a)(this,"toggleNewEventModal",Xe,this),Object(St.a)(this,"toggleAddGreetingModal",Ze,this),Object(St.a)(this,"resetRedirectTo",$e,this),Object(St.a)(this,"createChatRoom",et,this),In.a.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status?t.isAuthenticated=!1:console.error(e.response),Promise.reject(e)}),this.initialize()}return Object(ot.a)(e,[{key:"currentUserExists",get:function(){return!!this.currentUser}},{key:"greetingTabsTitles",get:function(){var e=this;return this.greetingTypes.map(function(t){return{id:t.id,title:t.type,count:e.currentGreetings.filter(function(e){return e.typeId===t.id}).length}})}},{key:"futureUserEvents",get:function(){return this.userEvents.filter(function(e){return new Date(e.date)>new Date})}},{key:"currentParties",get:function(){return this.userEvents.filter(function(e){var t=Ht()(),n=Ht()(e.date),r=Ht()(e.date).add(4,"h");return t.isBetween(n,r)})}}]),e}(),ye=Object(Gt.a)(ve.prototype,"currentEvent",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Object(Gt.a)(ve.prototype,"currentUser",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=Object(Gt.a)(ve.prototype,"currentRole",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=Object(Gt.a)(ve.prototype,"currentGreetings",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=Object(Gt.a)(ve.prototype,"userEvents",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=Object(Gt.a)(ve.prototype,"greetingTypes",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xe=Object(Gt.a)(ve.prototype,"currentGreetingType",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ue=Object(Gt.a)(ve.prototype,"isSignedIn",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=Object(Gt.a)(ve.prototype,"queryParams",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{userId:null,eventId:null}}}),Ie=Object(Gt.a)(ve.prototype,"isLoginModal",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ge=Object(Gt.a)(ve.prototype,"isNewEventModal",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Object(Gt.a)(ve.prototype,"isAddGreetingModal",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Me=Object(Gt.a)(ve.prototype,"isLoading",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ze=Object(Gt.a)(ve.prototype,"redirectTo",[Nt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=Object(Gt.a)(ve.prototype,"initialize",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Un.a)(xn.a.mark(function t(){return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getUserFromStorage();case 1:case"end":return t.stop()}},t,this)}))}}),Pe=Object(Gt.a)(ve.prototype,"parseQueryParams",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object.keys(t).forEach(function(n){e.queryParams[n]=t[n]})}}}),Object(Gt.a)(ve.prototype,"currentUserExists",[Nt.e],Object.getOwnPropertyDescriptor(ve.prototype,"currentUserExists"),ve.prototype),Le=Object(Gt.a)(ve.prototype,"dummyLogin",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Un.a)(xn.a.mark(function t(){return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUser(1);case 2:e.toggleLoginModal();case 3:case"end":return t.stop()}},t,this)}))}}),Re=Object(Gt.a)(ve.prototype,"getUserFromStorage",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentUser=JSON.parse(localStorage.getItem(Mn))||e.currentUser}}}),qe=Object(Gt.a)(ve.prototype,"getEventFull",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n,r){var a;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Nn.getEventFull(n,r);case 4:a=t.sent,e.currentEvent=a.event,e.currentRole=a.role,e.currentGreetings=a.greetings,e.getUser(r),e.isLoading=!1,t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e,n){return t.apply(this,arguments)}}()}}),De=Object(Gt.a)(ve.prototype,"getGreetingTypes",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Un.a)(xn.a.mark(function t(){return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nn.getGreetingTypes();case 2:e.greetingTypes=t.sent;case 3:case"end":return t.stop()}},t,this)}))}}),Object(Gt.a)(ve.prototype,"greetingTabsTitles",[Nt.e],Object.getOwnPropertyDescriptor(ve.prototype,"greetingTabsTitles"),ve.prototype),Object(Gt.a)(ve.prototype,"futureUserEvents",[Nt.e],Object.getOwnPropertyDescriptor(ve.prototype,"futureUserEvents"),ve.prototype),Object(Gt.a)(ve.prototype,"currentParties",[Nt.e],Object.getOwnPropertyDescriptor(ve.prototype,"currentParties"),ve.prototype),He=Object(Gt.a)(ve.prototype,"setGreetingType",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentGreetingType=t}}}),_e=Object(Gt.a)(ve.prototype,"getUser",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n){var r;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Nn.getUserById(n);case 4:r=t.sent,e.currentUser=r,e.isLoading=!1,t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}}),Fe=Object(Gt.a)(ve.prototype,"getEventsByUser",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Un.a)(xn.a.mark(function t(){var n;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Nn.getEventsByUser(e.currentUser.id);case 4:n=t.sent,e.userEvents=n,e.isLoading=!1,t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}}),Qe=Object(Gt.a)(ve.prototype,"addEvent",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n,r,a,i){var c,o;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,c=e.currentUser.id,t.next=5,Nn.createEvent({title:n,date:r,userId:c,users:a});case 5:o=t.sent,e.toggleNewEventModal(),e.isLoading=!1,i&&(e.redirectTo="".concat(Gn.EVENTS_PATH,"/").concat(o.id,"/").concat(e.currentUser.id)),e.userEvents.push(o),t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e,n,r,a){return t.apply(this,arguments)}}()}}),We=Object(Gt.a)(ve.prototype,"updateUser",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n){var r;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nn.updateUser(e.currentUser.id,n);case 3:(r=t.sent)&&(e.currentUser=r),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}}),Be=Object(Gt.a)(ve.prototype,"createGreeting",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n,r,a){var i,c,o;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,i=e.currentUser.id,c=e.currentEvent.id,t.next=6,Nn.createGreeting({userId:i,eventId:c,text:n,isPrivate:r,typeId:a});case 6:o=t.sent,e.toggleAddGreetingModal(),e.isLoading=!1,e.currentGreetings.push(o),console.log(e.currentGreetings),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()}}),Je=Object(Gt.a)(ve.prototype,"updateGreeting",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n,r){var a;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nn.updateGreeting(n,r);case 2:t.sent&&(a=e.currentGreetings.find(function(e){return e.id===n}),Object.keys(r).forEach(function(e){a[e]=r[e]}));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}}),Ye=Object(Gt.a)(ve.prototype,"deleteGreeting",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(Un.a)(xn.a.mark(function t(n){var r;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nn.deleteGreeting(n);case 2:r=e.currentGreetings.findIndex(function(e){return e.id===n}),e.currentGreetings.splice(r,1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Ve=Object(Gt.a)(ve.prototype,"logout",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentUser=null,e.queryParams.eventId=null,e.queryParams.userId=null,e.redirectTo="/"}}}),Ke=Object(Gt.a)(ve.prototype,"toggleLoginModal",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isLoginModal=!e.isLoginModal}}}),Xe=Object(Gt.a)(ve.prototype,"toggleNewEventModal",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isNewEventModal=!e.isNewEventModal}}}),Ze=Object(Gt.a)(ve.prototype,"toggleAddGreetingModal",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isAddGreetingModal=!e.isAddGreetingModal}}}),$e=Object(Gt.a)(ve.prototype,"resetRedirectTo",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.redirectTo=null}}}),et=Object(Gt.a)(ve.prototype,"createChatRoom",[Nt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(Un.a)(xn.a.mark(function t(){var n;return xn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nn.createChatRoom(e.currentEvent.id);case 2:n=t.sent,e.currentEvent.chatRoomId=n;case 4:case"end":return t.stop()}},t,this)}))}}),ve);at.a.render(nt.a.createElement(it.a,{store:zn},nt.a.createElement(kn,null)),document.getElementById("root"))},98:function(e,t,n){e.exports=n(276)}},[[98,2,1]]]);
//# sourceMappingURL=main.fe21a9fc.chunk.js.map