(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,u,l,b,p,h,d,m,g,f,O,j,v,E,y,w,k,C,T,U,x,I,G,S,N,P,A,M,z,L,R,H,q,D,_,F,Q,W,B,J,Y,V,K,X,Z,$,ee,te,ne,re,ae,ie,ce,oe,se,ue,le,be,pe,he,de,me,ge,fe,Oe,je,ve,Ee,ye,we,ke,Ce,Te,Ue,xe,Ie,Ge,Se,Ne,Pe,Ae,Me,ze,Le,Re,He,qe,De,_e,Fe,Qe,We,Be,Je,Ye,Ve,Ke,Xe=n(0),Ze=n.n(Xe),$e=n(19),et=n.n($e),tt=n(5),nt=(n(103),n(6)),rt=n(8),at=n(11),it=n(9),ct=n(10),ot=n(281),st=n(278),ut=(n(105),n(280)),lt=n(26),bt=(r=Object(tt.b)(function(e){return{dummyLogin:e.store.dummyLogin}}),r(a=Object(tt.c)(a=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("input",{type:"text",placeholder:"Username"}),Ze.a.createElement("br",null),Ze.a.createElement("button",{className:"btn",type:"button",onClick:this.props.dummyLogin},"Login"),Ze.a.createElement("br",null),Ze.a.createElement("small",null,Ze.a.createElement("i",null,"hard-coded login user 'Ami' for now")))}}]),t}(Xe.Component))||a)||a),pt=bt,ht=(i=Object(tt.b)(function(e){return{isModal:e.store.isLoginModal,toggleModal:e.store.toggleLoginModal}}),i(c=Object(tt.c)(c=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement(lt.a,{open:this.props.isModal,onClose:this.props.toggleModal,closeOnEsc:!1,closeOnOverlayClick:!1},Ze.a.createElement(pt,null))}}]),t}(Xe.Component))||c)||c),dt=ht,mt=(o=Object(tt.b)(function(e){return{toggleModal:e.store.toggleLoginModal}}),o(s=Object(tt.c)(s=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("span",{onClick:this.props.toggleModal},"Login"),Ze.a.createElement(dt,null))}}]),t}(Xe.Component))||s)||s),gt=mt,ft=(u=Object(tt.b)(function(e){return{currentUserExists:e.store.currentUserExists,username:e.store.currentUser?e.store.currentUser.name||e.store.currentUser.email||e.store.currentUser.phone:"",logout:e.store.logout}}),u(l=Object(tt.c)(l=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUserExists,n=e.logout,r=e.username;return Ze.a.createElement("div",{className:"login-btn"},t?Ze.a.createElement("span",{onClick:n},"Hi ".concat(r,", Logout")):Ze.a.createElement(gt,null))}}]),t}(Xe.Component))||l)||l),Ot=ft,jt=function(e){function t(){var e;return Object(nt.a)(this,t),(e=Object(at.a)(this,Object(it.a)(t).call(this))).links=[{title:"Surprizer",to:"/"},{title:"My Events",to:"/events"},{title:"About",to:"/about"}],e}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"outer-wrapper"},Ze.a.createElement("div",{className:"container nav-container"},this.links.map(function(e,t){return Ze.a.createElement(ut.a,{key:t,to:e.to,activeClassName:"active-link",exact:!0},e.title)}),Ze.a.createElement(Ot,null)))}}]),t}(Xe.Component),vt=jt,Et=n(96),yt=n.n(Et),wt=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,this.props.isLoading?Ze.a.createElement("div",{className:"loader-container"},Ze.a.createElement(yt.a,{type:"Circles",color:"#9c27b0",height:this.props.height||80})):Ze.a.createElement("div",null,this.props.children))}}]),t}(Xe.Component),kt=wt,Ct=n(7),Tt=n(3),Ut=n(4),xt=(n(18),n(2)),It=n(31),Gt=Object(tt.c)((p=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"handleChange",h,Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this.props.guest;return Ze.a.createElement("div",{className:"guest-input"},Ze.a.createElement("select",{name:"type",value:e.type,onChange:this.handleChange,required:!0},Ze.a.createElement("option",{value:"",disabled:!0},"-"),Ze.a.createElement("option",{value:"email"},"Email"),Ze.a.createElement("option",{value:"phone"},"Phone")),"email"===e.type&&Ze.a.createElement("input",{name:"email",type:"email",placeholder:"Email",onChange:this.handleChange,value:e.email,required:!0}),"phone"===e.type&&Ze.a.createElement("input",{name:"phone",type:"tel",placeholder:"Phone",onChange:this.handleChange,value:e.phone,required:!0}))}}]),t}(Xe.Component),h=Object(Ut.a)(p.prototype,"handleChange",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.props.updateGuest(e.props.index,t.target.name,t.target.value)}}}),b=p))||b,St=Object(tt.c)((m=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"guests",g,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"addInput",f,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"updateGuest",O,Object(Tt.a)(Object(Tt.a)(n))),n.guestsChange=Object(xt.m)(function(){return n.guests.map(function(e){return Object(It.a)({},e)})},function(e){return n.props.setUsersFromPicker(e,n.props.roleId)}),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this;return Ze.a.createElement("div",{className:"guest-picker"},this.guests.map(function(t,n){return Ze.a.createElement(Gt,{key:n,guest:t,index:n,updateGuest:e.updateGuest})}),Ze.a.createElement("button",{className:"icon-button",type:"button",onClick:this.addInput},"+"))}}]),t}(Xe.Component),g=Object(Ut.a)(m.prototype,"guests",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{type:"",email:"",phone:""}]}}),f=Object(Ut.a)(m.prototype,"addInput",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.guests.push({type:"",email:"",phone:""})}}}),O=Object(Ut.a)(m.prototype,"updateGuest",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r){e.guests[t][n]=r}}}),d=m))||d,Nt=Object(tt.b)(function(e){return{addEvent:e.store.addEvent,isLoading:e.store.isLoading}})(j=Object(tt.c)((v=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"title",E,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"date",y,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"users",w,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleChange",k,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"setUsersFromPicker",C,Object(Tt.a)(Object(Tt.a)(n))),n.handleSubmit=function(e){e.preventDefault(),n.props.addEvent(n.title,n.date,n.users,!0)},n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("h2",null,"New Event"),Ze.a.createElement("form",{className:"form new-event-form",onSubmit:this.handleSubmit},Ze.a.createElement("label",null,"Title:"),Ze.a.createElement("input",{name:"title",type:"text",placeholder:"Title",onChange:this.handleChange,value:this.title,required:!0}),Ze.a.createElement("label",null,"Date:"),Ze.a.createElement("input",{name:"date",type:"datetime-local",placeholder:"date",onChange:this.handleChange,value:this.date,required:!0}),Ze.a.createElement("label",null,"Guests:"),Ze.a.createElement(St,{roleId:2,setUsersFromPicker:this.setUsersFromPicker}),Ze.a.createElement("label",null,"Surprisees:"),Ze.a.createElement(St,{roleId:3,setUsersFromPicker:this.setUsersFromPicker}),Ze.a.createElement(kt,{isLoading:this.props.isLoading,height:40},Ze.a.createElement("button",{className:"btn",type:"submit"},"Save"))))}}]),t}(Xe.Component),E=Object(Ut.a)(v.prototype,"title",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=Object(Ut.a)(v.prototype,"date",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(Ut.a)(v.prototype,"users",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),k=Object(Ut.a)(v.prototype,"handleChange",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]=t.target.value}}}),C=Object(Ut.a)(v.prototype,"setUsersFromPicker",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.users[n]=t}}}),j=v))||j)||j,Pt=Object(tt.b)(function(e){return{isModal:e.store.isNewEventModal,toggleModal:e.store.toggleNewEventModal}})(T=Object(tt.c)(T=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement(lt.a,{open:this.props.isModal,onClose:this.props.toggleModal,center:!0,styles:{modal:{width:"100%"}}},Ze.a.createElement(Nt,null))}}]),t}(Xe.Component))||T)||T,At=n(119),Mt=n(22),zt=n.n(Mt),Lt=Object(tt.b)(function(e){return{userId:e.store.currentUser?e.store.currentUser.id:null}})(U=Object(tt.c)(U=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a)))).getEvents=function(){var e=n.props,t=e.events,r=e.userId,a=e.type;return t.map(function(e){return Ze.a.createElement("div",{key:e.id},Ze.a.createElement("span",null,e.title),Ze.a.createElement("span",null,zt()(e.date).format("L HH:mm")),Ze.a.createElement("span",null,Ze.a.createElement(At.a,{to:"/events/".concat(e.id,"/").concat(r)},"details")),Ze.a.createElement("span",null,Ze.a.createElement(At.a,{to:"/events/".concat(e.id,"/").concat(r,"/greetings")},"greetings")),"current"===a&&Ze.a.createElement("span",null,Ze.a.createElement(At.a,{to:"/events/".concat(e.id,"/").concat(r,"/party")},"party!")))})},n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("h3",null,this.props.title),Ze.a.createElement("div",{className:"user-events"},this.props.events.length?this.getEvents():"Nothing at the moment..."))}}]),t}(Xe.Component))||U)||U,Rt=Object(tt.b)(function(e){return{toggleModal:e.store.toggleNewEventModal,isLoading:e.store.isLoading,isSignedIn:e.store.isSignedIn,futureUserEvents:e.store.futureUserEvents,currentParties:e.store.currentParties}})(x=Object(tt.c)(x=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"outer-wrapper home"},Ze.a.createElement("div",{className:"container"},Ze.a.createElement("div",{className:"hero"},Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"title"},"Surprize!"),Ze.a.createElement("div",{className:"description"},Ze.a.createElement("b",null,"Surprizer")," lets you organize virtual surprise parties."),this.props.isSignedIn&&Ze.a.createElement("button",{className:"btn",type:"button",onClick:this.props.toggleModal},"New Event"),Ze.a.createElement(Pt,null))),Ze.a.createElement(kt,{isLoading:this.props.isLoading},Ze.a.createElement(Lt,{title:"Current Parties",events:this.props.currentParties,type:"current"}),Ze.a.createElement(Lt,{title:"Upcoming Events",events:this.props.futureUserEvents,type:"future"}))))}}]),t}(Xe.Component))||x)||x,Ht=Object(tt.b)(function(e){return{greetingTabsTitles:e.store.greetingTabsTitles,setGreetingType:e.store.setGreetingType,type:e.store.currentGreetingType}})(I=Object(tt.c)(I=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this;return Ze.a.createElement("div",{className:"greeting-tabs-container"},this.props.greetingTabsTitles.map(function(t){return Ze.a.createElement("span",{onClick:function(){return e.props.setGreetingType(t.id)},className:"greeting-tab ".concat(e.props.type===t.id?"active-tab":""),key:t.id},t.title," ",t.count>0&&Ze.a.createElement("span",{className:"greeting-tab-pill"},t.count))}))}}]),t}(Xe.Component))||I)||I,qt=n(46),Dt=n.n(qt),_t=(n(85),n(97)),Ft=n.n(_t),Qt=n(33),Wt=n(34),Bt=Object(tt.b)(function(e){return{updateGreeting:e.store.updateGreeting,deleteGreeting:e.store.deleteGreeting,currentUser:e.store.currentUser}})(G=Object(tt.c)((S=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"text",N,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"isEditMode",P,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"isPrivate",A,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"componentDidMount",M,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleChange",z,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleChangeQuill",L,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleCancel",R,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleSaveText",H,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleDelete",q,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"toggleEdit",D,Object(Tt.a)(Object(Tt.a)(n))),n.quillModules={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.greeting,n=e.currentUser;return Ze.a.createElement("div",{className:"greeting-wrapper"},Ze.a.createElement("div",{className:"left"},this.isEditMode?Ze.a.createElement("div",null,Ze.a.createElement(Dt.a,{theme:"snow",value:this.text,onChange:this.handleChangeQuill,modules:this.quillModules}),Ze.a.createElement("label",null,"Private:"),Ze.a.createElement("input",{name:"isPrivate",type:"checkbox",checked:this.isPrivate,onChange:this.handleChange}),t.user.id===n.id&&Ze.a.createElement("div",{className:"buttons"},Ze.a.createElement("span",{onClick:this.handleSaveText,title:"Save"},Ze.a.createElement(Qt.a,{icon:Wt.b})),Ze.a.createElement("span",{onClick:this.handleCancel,title:"Cancel"},Ze.a.createElement(Qt.a,{icon:Wt.c})))):Ze.a.createElement("div",{className:"readonly"},Ft()(t.text),t.user&&t.user.id===n.id&&Ze.a.createElement("div",{className:"buttons"},Ze.a.createElement("span",{onClick:this.toggleEdit,title:"Edit"},Ze.a.createElement(Qt.a,{icon:Wt.a})),Ze.a.createElement("span",{onClick:this.handleDelete,title:"Delete"},Ze.a.createElement(Qt.a,{icon:Wt.d}))))),Ze.a.createElement("div",{className:"right"},Ze.a.createElement("div",null,t.user?t.user.name:this.props.currentUser.name,", ",zt()(t.createdAt).format("L HH:mm"))))}}]),t}(Xe.Component),N=Object(Ut.a)(S.prototype,"text",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=Object(Ut.a)(S.prototype,"isEditMode",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(Ut.a)(S.prototype,"isPrivate",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=Object(Ut.a)(S.prototype,"componentDidMount",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.text=e.props.greeting.text,e.isPrivate=e.props.greeting.isPrivate}}}),z=Object(Ut.a)(S.prototype,"handleChange",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]="checkbox"===t.target.type?t.target.checked:t.target.value}}}),L=Object(Ut.a)(S.prototype,"handleChangeQuill",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.text=t}}}),R=Object(Ut.a)(S.prototype,"handleCancel",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.toggleEdit(),e.text=e.props.greeting.text}}}),H=Object(Ut.a)(S.prototype,"handleSaveText",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.updateGreeting(e.props.greeting.id,{text:e.text,isPrivate:e.isPrivate}),e.toggleEdit()}}}),q=Object(Ut.a)(S.prototype,"handleDelete",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.deleteGreeting(e.props.greeting.id)}}}),D=Object(Ut.a)(S.prototype,"toggleEdit",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isEditMode=!e.isEditMode}}}),G=S))||G)||G,Jt=Object(tt.b)(function(e){return{type:e.store.currentGreetingType}})(_=Object(tt.c)(_=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this;return Ze.a.createElement("div",null,this.props.greetings&&this.props.greetings.filter(function(t){return t.typeId===e.props.type}).map(function(e){return Ze.a.createElement(Bt,{key:e.id,greeting:e})}))}}]),t}(Xe.Component))||_)||_,Yt=Object(tt.b)(function(e){return{createGreeting:e.store.createGreeting,isLoading:e.store.isLoading}})(F=Object(tt.c)((Q=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"text",W,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"isPrivate",B,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"typeId",J,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleChange",Y,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleChangeQuill",V,Object(Tt.a)(Object(Tt.a)(n))),Object(Ct.a)(n,"handleSubmit",K,Object(Tt.a)(Object(Tt.a)(n))),n.quillModules={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("h2",null,"Add Greeting"),Ze.a.createElement("form",{className:"form new-greeting-form",onSubmit:this.handleSubmit},Ze.a.createElement("label",null,1===this.typeId?"Greeting":"Title",":"),1===this.typeId?Ze.a.createElement(Dt.a,{theme:"snow",value:this.text,onChange:this.handleChangeQuill,modules:this.quillModules}):Ze.a.createElement("input",{name:"text",type:"text",placeholder:"Greeting",onChange:this.handleChange,value:this.text,required:!0}),Ze.a.createElement("label",null,"Private:"),Ze.a.createElement("input",{name:"isPrivate",type:"checkbox",checked:this.isPrivate,onChange:this.handleChange}),Ze.a.createElement(kt,{isLoading:this.props.isLoading,height:40},Ze.a.createElement("button",{type:"submit"},"Save"))))}}]),t}(Xe.Component),W=Object(Ut.a)(Q.prototype,"text",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=Object(Ut.a)(Q.prototype,"isPrivate",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Object(Ut.a)(Q.prototype,"typeId",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Y=Object(Ut.a)(Q.prototype,"handleChange",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e[t.target.name]="checkbox"===t.target.type?t.target.checked:t.target.value}}}),V=Object(Ut.a)(Q.prototype,"handleChangeQuill",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.text=t}}}),K=Object(Ut.a)(Q.prototype,"handleSubmit",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),e.props.createGreeting(e.text,e.isPrivate,e.typeId)}}}),F=Q))||F)||F,Vt=Object(tt.b)(function(e){return{isModal:e.store.isAddGreetingModal,toggleModal:e.store.toggleAddGreetingModal}})(X=Object(tt.c)(X=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement(lt.a,{open:this.props.isModal,onClose:this.props.toggleModal,center:!0,styles:{modal:{width:"100%"}}},Ze.a.createElement(Yt,null))}}]),t}(Xe.Component))||X)||X,Kt=Object(tt.b)(function(e){return{toggleModal:e.store.toggleAddGreetingModal}})(Z=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("button",{type:"button",className:"btn",onClick:this.props.toggleModal},"Add Greeting"),Ze.a.createElement(Vt,null))}}]),t}(Xe.Component))||Z,Xt=Object(tt.b)(function(e){return{getGreetingTypes:e.store.getGreetingTypes}})($=Object(tt.c)($=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=function(){n.props.getGreetingTypes()},n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement(Ht,null),Ze.a.createElement(Jt,{greetings:this.props.greetings}),Ze.a.createElement(Kt,null))}}]),t}(Xe.Component))||$)||$,Zt=function(e){function t(e){var n;return Object(nt.a)(this,t),(n=Object(at.a)(this,Object(it.a)(t).call(this,e))).state={username:""},n.onSubmit=n.onSubmit.bind(Object(Tt.a)(Object(Tt.a)(n))),n.onChange=n.onChange.bind(Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"onChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){return Ze.a.createElement("div",null,Ze.a.createElement("div",null,Ze.a.createElement("form",{onSubmit:this.onSubmit},Ze.a.createElement("input",{type:"text",placeholder:"Name",onChange:this.onChange,required:!0}),Ze.a.createElement("br",null),Ze.a.createElement("button",{className:"btn",type:"submit"},"Join Chat"))))}}]),t}(Xe.Component),$t=n(61),en=n(60),tn=n.n(en),nn=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"message-list-container"},Ze.a.createElement("ul",null,this.props.messages.map(function(e,t){return Ze.a.createElement("li",{key:t},Ze.a.createElement("span",{className:"sender-username"},e.senderId)," ",Ze.a.createElement("div",{className:"message"},e.text))})))}}]),t}(Xe.Component),rn=function(e){function t(e){var n;return Object(nt.a)(this,t),(n=Object(at.a)(this,Object(it.a)(t).call(this,e))).state={text:""},n.onSubmit=n.onSubmit.bind(Object(Tt.a)(Object(Tt.a)(n))),n.onChange=n.onChange.bind(Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.text),this.setState({text:""})}},{key:"onChange",value:function(e){this.setState({text:e.target.value}),this.props.onChange&&this.props.onChange()}},{key:"render",value:function(){return Ze.a.createElement("div",{className:"send-container"},Ze.a.createElement("div",null,Ze.a.createElement("form",{onSubmit:this.onSubmit},Ze.a.createElement("input",{type:"text",placeholder:"Type a message here then hit ENTER",onChange:this.onChange,value:this.state.text}))))}}]),t}(Xe.Component),an=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return this.props.usersWhoAreTyping.length>0?Ze.a.createElement("div",{className:"typing"},"".concat(this.props.usersWhoAreTyping.slice(0,2).join(" and ")," is typing")):Ze.a.createElement("div",null)}}]),t}(Xe.Component),cn=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"renderUsers",value:function(){var e=this;return Ze.a.createElement("ul",{className:"whos-online-list"},this.props.users.map(function(t,n){return t.id===e.props.currentUser.id?Ze.a.createElement(on,{key:n,presenceState:"online"},t.name," (You)"):Ze.a.createElement(on,{key:n,presenceState:t.presence.state},t.name)}))}},{key:"render",value:function(){return this.props.users?this.renderUsers():Ze.a.createElement("p",null,"Loading...")}}]),t}(Xe.Component),on=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("li",null,Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"whos-online-pill",style:{backgroundColor:"online"===this.props.presenceState?"#539eff":"#414756"}})),Ze.a.createElement("div",null,this.props.children))}}]),t}(Xe.Component),sn=cn,un=Object(tt.b)(function(e){return{chatRoomId:e.store.currentEvent.chatRoomId}})(ee=Object(tt.c)(ee=function(e){function t(e){var n;return Object(nt.a)(this,t),(n=Object(at.a)(this,Object(it.a)(t).call(this,e))).state={currentUser:{},currentRoom:{},messages:[],usersWhoAreTyping:[]},n.sendMessage=n.sendMessage.bind(Object(Tt.a)(Object(Tt.a)(n))),n.sendTypingEvent=n.sendTypingEvent.bind(Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"sendMessage",value:function(e){this.state.currentUser.sendMessage({text:e,roomId:this.state.currentRoom.id})}},{key:"sendTypingEvent",value:function(){this.state.currentUser.isTypingIn({roomId:this.state.currentRoom.id}).catch(function(e){return console.error("error",e)})}},{key:"componentDidMount",value:function(){var e=this;new tn.a.ChatManager({instanceLocator:"v1:us1:09d50864-3dac-4251-b92a-0b851b4da892",userId:this.props.currentUsername,tokenProvider:new tn.a.TokenProvider({url:"/chat/authenticate"})}).connect().then(function(t){return e.setState({currentUser:t}),t.subscribeToRoom({roomId:e.props.chatRoomId,messageLimit:100,hooks:{onNewMessage:function(t){e.setState({messages:Object($t.a)(e.state.messages).concat([t])})},onUserStartedTyping:function(t){e.setState({usersWhoAreTyping:Object($t.a)(e.state.usersWhoAreTyping).concat([t.name])})},onUserStoppedTyping:function(t){e.setState({usersWhoAreTyping:e.state.usersWhoAreTyping.filter(function(e){return e!==t.name})})},onUserCameOnline:function(){return e.forceUpdate()},onUserWentOffline:function(){return e.forceUpdate()},onUserJoined:function(){return e.forceUpdate()}}})}).then(function(t){e.setState({currentRoom:t})}).catch(function(e){return console.error("error",e)})}},{key:"render",value:function(){return Ze.a.createElement("div",{className:"chat-screen-container"},Ze.a.createElement("div",{className:"chat-container"},Ze.a.createElement("aside",{className:"whos-online-list-container"},Ze.a.createElement(sn,{currentUser:this.state.currentUser,users:this.state.currentRoom.users})),Ze.a.createElement("section",{className:"chat-list-container"},Ze.a.createElement(nn,{messages:this.state.messages}),Ze.a.createElement(an,{usersWhoAreTyping:this.state.usersWhoAreTyping}),Ze.a.createElement(rn,{onSubmit:this.sendMessage,onChange:this.sendTypingEvent}))))}}]),t}(Xe.Component))||ee)||ee,ln=Object(tt.b)(function(e){return{chatLogin:e.store.chatLogin}})(te=Object(tt.c)(te=function(e){function t(){var e;return Object(nt.a)(this,t),(e=Object(at.a)(this,Object(it.a)(t).call(this))).onUsernameSubmitted=function(t){e.props.chatLogin({username:t}).then(function(n){e.setState({currentUsername:t,currentScreen:"ChatScreen"})}).catch(function(e){return console.error("error",e)})},e.state={currentUsername:"",currentScreen:"WhatIsYourUsernameScreen"},e}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return"WhatIsYourUsernameScreen"===this.state.currentScreen?Ze.a.createElement(Zt,{onSubmit:this.onUsernameSubmitted}):"ChatScreen"===this.state.currentScreen?Ze.a.createElement(un,{currentUsername:this.state.currentUsername}):void 0}}]),t}(Xe.Component))||te)||te,bn=Object(tt.b)(function(e){return{event:e.store.currentEvent,user:e.store.currentUser,getEventFull:e.store.getEventFull,isLoading:e.store.isLoading,createChatRoom:e.store.createChatRoom,parseQueryParams:e.store.parseQueryParams,currentGreetings:e.store.currentGreetings}})(ne=Object(tt.c)((re=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"componentDidMount",ae,Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this.props.event;return Ze.a.createElement("div",{className:"outer-wrapper party"},Ze.a.createElement("div",{className:"container"},Ze.a.createElement("div",{className:"hero"},Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"title"},"Party on!"),Ze.a.createElement("div",{className:"description"},"This is the real party! Chat with people and mingle."))),Ze.a.createElement(kt,{isLoading:this.props.isLoading},e&&!e.chatRoomId&&Ze.a.createElement("div",null,Ze.a.createElement("button",{type:"button",onClick:this.props.createChatRoom},"Create chat"),Ze.a.createElement("small",null,"will be auto created")),e&&Ze.a.createElement("h3",null,"Welcome to ",e.title),e&&e.chatRoomId&&Ze.a.createElement(ln,null),this.props.user&&Ze.a.createElement("h2",null,this.props.user.name),Ze.a.createElement(Xt,{greetings:this.props.currentGreetings}))))}}]),t}(Xe.Component),ae=Object(Ut.a)(re.prototype,"componentDidMount",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),ne=re))||ne)||ne,pn=Object(tt.b)(function(e){return{event:e.store.currentEvent,getEventFull:e.store.getEventFull,isLoading:e.store.isLoading,parseQueryParams:e.store.parseQueryParams}})(ie=Object(tt.c)((ce=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"componentDidMount",oe,Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement(kt,{isLoading:this.props.isLoading},this.props.event&&this.props.event.title,Ze.a.createElement(Xt,null))}}]),t}(Xe.Component),oe=Object(Ut.a)(ce.prototype,"componentDidMount",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),ie=ce))||ie)||ie,hn=Object(tt.b)(function(e){return{parseQueryParams:e.store.parseQueryParams,eventTitle:e.store.currentEvent?e.store.currentEvent.title:null,roleTItle:e.store.currentRole?e.store.currentRole.title:null,ownGreetings:e.store.ownGreetings}})(se=Object(tt.c)((ue=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"componentDidMount",le,Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"outer-wrapper gr"},Ze.a.createElement("div",{className:"container"},Ze.a.createElement("div",{className:"hero"},Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"title"},"Greetings"),Ze.a.createElement("div",{className:"description"},"Your are here as ",this.props.roleTItle,". Here you can write greetings and upload files that will be seen on the surprize party."))),Ze.a.createElement("h3",null,"Greetings for ",this.props.eventTitle),Ze.a.createElement(Xt,{greetings:this.props.ownGreetings})))}}]),t}(Xe.Component),le=Object(Ut.a)(ue.prototype,"componentDidMount",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,n=t.userId,r=t.eventId;(0,t.parseQueryParams)({eventId:r,userId:n})}}}),se=ue))||se)||se,dn=n(282),mn=Object(tt.b)(function(e){return{redirectTo:e.store.redirectTo,resetRedirectTo:e.store.resetRedirectTo}})(be=Object(tt.c)((pe=function(e){function t(){var e,n;Object(nt.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Object(at.a)(this,(e=Object(it.a)(t)).call.apply(e,[this].concat(a))),Object(Ct.a)(n,"componentDidMount",he,Object(Tt.a)(Object(Tt.a)(n))),n}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){var e=this.props.redirectTo;return Ze.a.createElement(dn.a,{to:e})}}]),t}(Xe.Component),he=Object(Ut.a)(pe.prototype,"componentDidMount",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.resetRedirectTo()}}}),be=pe))||be)||be,gn=Object(tt.b)(function(e){return{isLoading:e.store.isLoading,userEvents:e.store.userEvents}})(de=Object(tt.c)(de=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"outer-wrapper events"},Ze.a.createElement("div",{className:"container"},Ze.a.createElement("div",{className:"hero"},Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"title"},"Events"),Ze.a.createElement("div",{className:"description"},"Here you can view all your events, past present & future."))),Ze.a.createElement(kt,{isLoading:this.props.isLoading},Ze.a.createElement(Lt,{title:"My Events",events:this.props.userEvents,type:"all"}))))}}]),t}(Xe.Component))||de)||de,fn=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement("div",{className:"outer-wrapper about"},Ze.a.createElement("div",{className:"container"},Ze.a.createElement("div",{className:"hero"},Ze.a.createElement("div",null,Ze.a.createElement("div",{className:"title"},"About"),Ze.a.createElement("div",{className:"description"},"A little bit about Surprizer and me."))),Ze.a.createElement("h3",null,"About Me"),Ze.a.createElement("div",null,"I'm me"),Ze.a.createElement("h3",null,"Photo Credits"),Ze.a.createElement("ul",null,Ze.a.createElement("li",null,"Photo by Jason Leung on Unsplash"),Ze.a.createElement("li",null,"Photo by Adi Goldstein on Unsplash"))))}}]),t}(Xe.Component),On=Object(tt.b)(function(e){return{redirectTo:e.store.redirectTo}})(me=Object(tt.c)(me=function(e){function t(){return Object(nt.a)(this,t),Object(at.a)(this,Object(it.a)(t).apply(this,arguments))}return Object(ct.a)(t,e),Object(rt.a)(t,[{key:"render",value:function(){return Ze.a.createElement(ot.a,null,Ze.a.createElement("div",null,this.props.redirectTo&&Ze.a.createElement(mn,null),Ze.a.createElement(vt,null),Ze.a.createElement(st.a,{path:"/",exact:!0,render:function(){return Ze.a.createElement(Rt,null)}}),Ze.a.createElement(st.a,{path:"/events",exact:!0,render:function(){return Ze.a.createElement(gn,null)}}),Ze.a.createElement(st.a,{path:"/about",exact:!0,render:function(){return Ze.a.createElement(fn,null)}}),Ze.a.createElement(st.a,{path:"/events/:eventId/:userId",exact:!0,render:function(e){var t=e.match;return Ze.a.createElement(pn,{eventId:t.params.eventId,userId:t.params.userId})}}),Ze.a.createElement(st.a,{path:"/events/:eventId/:userId/party",exact:!0,render:function(e){var t=e.match;return Ze.a.createElement(bn,{eventId:t.params.eventId,userId:t.params.userId})}}),Ze.a.createElement(st.a,{path:"/events/:eventId/:userId/greetings",exact:!0,render:function(e){var t=e.match;return Ze.a.createElement(hn,{eventId:t.params.eventId,userId:t.params.userId})}})))}}]),t}(Xe.Component))||me)||me,jn=n(12),vn=n.n(jn),En=n(14),yn=n(24),wn=n.n(yn),kn=new function e(){Object(nt.a)(this,e),this.queryApi=function(){var e=Object(En.a)(vn.a.mark(function e(t,n,r){var a;return vn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="get"===e.t0?4:"post"===e.t0?8:"put"===e.t0?12:"delete"===e.t0?16:20;break;case 4:return e.next=6,wn.a.get(n);case 6:return a=e.sent,e.abrupt("break",21);case 8:return e.next=10,wn.a.post(n,r);case 10:return a=e.sent,e.abrupt("break",21);case 12:return e.next=14,wn.a.put(n,r);case 14:return a=e.sent,e.abrupt("break",21);case 16:return e.next=18,wn.a.delete(n);case 18:return a=e.sent,e.abrupt("break",21);case 20:throw new Error("Unexpected method: ".concat(t));case 21:return e.abrupt("return",a.data);case 24:throw e.prev=24,e.t1=e.catch(0),e.t1;case 27:case"end":return e.stop()}},e,this,[[0,24]])}));return function(t,n,r){return e.apply(this,arguments)}}(),this.EVENTS_PATH="/events",this.GREETING_PATH="/greetings",this.GREETING_TYPES_PATH="".concat(this.GREETING_PATH,"/types"),this.USERS_PATH="/users",this.CHAT_PATH="/chat",this.CHAT_ROOMS_PATH="".concat(this.CHAT_PATH,"/rooms"),this.CHAT_USERS_PATH="".concat(this.CHAT_PATH,"/users")},Cn=new function e(){Object(nt.a)(this,e),this.getEventFull=function(e,t){var n="".concat(kn.EVENTS_PATH,"/").concat(e,"/").concat(t);return kn.queryApi("get",n)},this.getUserById=function(e){var t="".concat(kn.USERS_PATH,"/").concat(e);return kn.queryApi("get",t)},this.getEventsByUser=function(e){var t="".concat(kn.USERS_PATH,"/").concat(e).concat(kn.EVENTS_PATH);return kn.queryApi("get",t)},this.createEvent=function(e){var t=kn.EVENTS_PATH;return kn.queryApi("post",t,e)},this.updateUser=function(e,t){var n="".concat(kn.USERS_PATH,"/").concat(e);return kn.queryApi("put",n,t)},this.getGreetingTypes=function(){var e="".concat(kn.GREETING_TYPES_PATH);return kn.queryApi("get",e)},this.updateGreeting=function(e,t){var n="".concat(kn.GREETING_PATH,"/").concat(e);return kn.queryApi("put",n,t)},this.createGreeting=function(e){var t=kn.GREETING_PATH;return kn.queryApi("post",t,e)},this.deleteGreeting=function(e){var t="".concat(kn.GREETING_PATH,"/").concat(e);return kn.queryApi("delete",t)},this.createChatRoom=function(e){var t=kn.CHAT_ROOMS_PATH;return kn.queryApi("post",t,{eventId:e})},this.chatLogin=function(e){var t=kn.CHAT_USERS_PATH;return kn.queryApi("post",t,e)}},Tn="user",Un=new(ge=function(){function e(){var t=this;Object(nt.a)(this,e),Object(Ct.a)(this,"currentEvent",fe,this),Object(Ct.a)(this,"currentUser",Oe,this),Object(Ct.a)(this,"currentRole",je,this),Object(Ct.a)(this,"currentGreetings",ve,this),Object(Ct.a)(this,"userEvents",Ee,this),Object(Ct.a)(this,"greetingTypes",ye,this),Object(Ct.a)(this,"currentGreetingType",we,this),Object(Ct.a)(this,"isSignedIn",ke,this),Object(Ct.a)(this,"queryParams",Ce,this),Object(Ct.a)(this,"isLoginModal",Te,this),Object(Ct.a)(this,"isNewEventModal",Ue,this),Object(Ct.a)(this,"isAddGreetingModal",xe,this),Object(Ct.a)(this,"isLoading",Ie,this),Object(Ct.a)(this,"redirectTo",Ge,this),Object(Ct.a)(this,"initialize",Se,this),Object(Ct.a)(this,"parseQueryParams",Ne,this),Object(Ct.a)(this,"dummyLogin",Pe,this),Object(Ct.a)(this,"getUserFromStorage",Ae,this),Object(Ct.a)(this,"getEventFull",Me,this),Object(Ct.a)(this,"getGreetingTypes",ze,this),Object(Ct.a)(this,"setGreetingType",Le,this),Object(Ct.a)(this,"getUser",Re,this),Object(Ct.a)(this,"getEventsByUser",He,this),Object(Ct.a)(this,"addEvent",qe,this),Object(Ct.a)(this,"updateUser",De,this),Object(Ct.a)(this,"createGreeting",_e,this),Object(Ct.a)(this,"updateGreeting",Fe,this),Object(Ct.a)(this,"deleteGreeting",Qe,this),Object(Ct.a)(this,"logout",We,this),this.chatLogin=function(){var e=Object(En.a)(vn.a.mark(function e(t){return vn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cn.chatLogin(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),this.getEventDetails=Object(xt.m)(function(){return Object(It.a)({},t.queryParams)},function(e){e.userId&&e.eventId&&t.getEventFull(e.eventId,e.userId)}),this.updateUserInStorage=Object(xt.m)(function(){return Object(It.a)({},t.currentUser)},Object(En.a)(vn.a.mark(function e(){return vn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.currentUser){e.next=7;break}return localStorage.setItem(Tn,JSON.stringify(t.currentUser)),t.isSignedIn=!0,e.next=5,t.getEventsByUser();case 5:e.next=10;break;case 7:localStorage.removeItem(Tn),t.isSignedIn=!1,t.userEvents=[];case 10:case"end":return e.stop()}},e,this)}))),Object(Ct.a)(this,"toggleLoginModal",Be,this),Object(Ct.a)(this,"toggleNewEventModal",Je,this),Object(Ct.a)(this,"toggleAddGreetingModal",Ye,this),Object(Ct.a)(this,"resetRedirectTo",Ve,this),Object(Ct.a)(this,"createChatRoom",Ke,this),wn.a.interceptors.response.use(function(e){return e},function(e){return 401===e.response.status?t.isAuthenticated=!1:console.error(e.response),Promise.reject(e)}),this.initialize()}return Object(rt.a)(e,[{key:"ownGreetings",get:function(){var e=this;return this.currentGreetings.length?this.currentGreetings.filter(function(t){return t.userId===e.currentUser.id}):null}},{key:"currentUserExists",get:function(){return!!this.currentUser}},{key:"greetingTabsTitles",get:function(){var e=this;return this.greetingTypes.map(function(t){return{id:t.id,title:t.type,count:e.currentGreetings.filter(function(e){return e.typeId===t.id}).length}})}},{key:"futureUserEvents",get:function(){return this.userEvents.filter(function(e){return new Date(e.date)>new Date})}},{key:"currentParties",get:function(){return this.userEvents.filter(function(e){var t=zt()(),n=zt()(e.date),r=zt()(e.date).add(4,"h");return t.isBetween(n,r)})}}]),e}(),fe=Object(Ut.a)(ge.prototype,"currentEvent",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=Object(Ut.a)(ge.prototype,"currentUser",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=Object(Ut.a)(ge.prototype,"currentRole",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Object(Ut.a)(ge.prototype,"currentGreetings",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=Object(Ut.a)(ge.prototype,"userEvents",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=Object(Ut.a)(ge.prototype,"greetingTypes",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=Object(Ut.a)(ge.prototype,"currentGreetingType",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ke=Object(Ut.a)(ge.prototype,"isSignedIn",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ce=Object(Ut.a)(ge.prototype,"queryParams",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{userId:null,eventId:null}}}),Te=Object(Ut.a)(ge.prototype,"isLoginModal",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ue=Object(Ut.a)(ge.prototype,"isNewEventModal",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=Object(Ut.a)(ge.prototype,"isAddGreetingModal",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=Object(Ut.a)(ge.prototype,"isLoading",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ge=Object(Ut.a)(ge.prototype,"redirectTo",[xt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Object(Ut.a)(ge.prototype,"initialize",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(En.a)(vn.a.mark(function t(){return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getUserFromStorage();case 1:case"end":return t.stop()}},t,this)}))}}),Object(Ut.a)(ge.prototype,"ownGreetings",[xt.e],Object.getOwnPropertyDescriptor(ge.prototype,"ownGreetings"),ge.prototype),Ne=Object(Ut.a)(ge.prototype,"parseQueryParams",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){Object.keys(t).forEach(function(n){e.queryParams[n]=t[n]})}}}),Object(Ut.a)(ge.prototype,"currentUserExists",[xt.e],Object.getOwnPropertyDescriptor(ge.prototype,"currentUserExists"),ge.prototype),Pe=Object(Ut.a)(ge.prototype,"dummyLogin",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(En.a)(vn.a.mark(function t(){return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUser(1);case 2:e.toggleLoginModal();case 3:case"end":return t.stop()}},t,this)}))}}),Ae=Object(Ut.a)(ge.prototype,"getUserFromStorage",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentUser=JSON.parse(localStorage.getItem(Tn))||e.currentUser}}}),Me=Object(Ut.a)(ge.prototype,"getEventFull",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n,r){var a;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Cn.getEventFull(n,r);case 4:a=t.sent,e.currentEvent=a.event,e.currentRole=a.role,e.currentGreetings=a.greetings,e.getUser(r),e.isLoading=!1,t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e,n){return t.apply(this,arguments)}}()}}),ze=Object(Ut.a)(ge.prototype,"getGreetingTypes",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(En.a)(vn.a.mark(function t(){return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cn.getGreetingTypes();case 2:e.greetingTypes=t.sent;case 3:case"end":return t.stop()}},t,this)}))}}),Object(Ut.a)(ge.prototype,"greetingTabsTitles",[xt.e],Object.getOwnPropertyDescriptor(ge.prototype,"greetingTabsTitles"),ge.prototype),Object(Ut.a)(ge.prototype,"futureUserEvents",[xt.e],Object.getOwnPropertyDescriptor(ge.prototype,"futureUserEvents"),ge.prototype),Object(Ut.a)(ge.prototype,"currentParties",[xt.e],Object.getOwnPropertyDescriptor(ge.prototype,"currentParties"),ge.prototype),Le=Object(Ut.a)(ge.prototype,"setGreetingType",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentGreetingType=t}}}),Re=Object(Ut.a)(ge.prototype,"getUser",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n){var r;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Cn.getUserById(n);case 4:r=t.sent,e.currentUser=r,e.isLoading=!1,t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}}),He=Object(Ut.a)(ge.prototype,"getEventsByUser",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(En.a)(vn.a.mark(function t(){var n;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,Cn.getEventsByUser(e.currentUser.id);case 4:n=t.sent,e.userEvents=n,e.isLoading=!1,t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}},t,this,[[0,9]])}))}}),qe=Object(Ut.a)(ge.prototype,"addEvent",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n,r,a,i){var c,o;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,c=e.currentUser.id,t.next=5,Cn.createEvent({title:n,date:r,userId:c,users:a});case 5:o=t.sent,e.toggleNewEventModal(),e.isLoading=!1,i&&(e.redirectTo="".concat(kn.EVENTS_PATH,"/").concat(o.id,"/").concat(e.currentUser.id)),e.userEvents.push(o),t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e,n,r,a){return t.apply(this,arguments)}}()}}),De=Object(Ut.a)(ge.prototype,"updateUser",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n){var r;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cn.updateUser(e.currentUser.id,n);case 3:(r=t.sent)&&(e.currentUser=r),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}}),_e=Object(Ut.a)(ge.prototype,"createGreeting",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n,r,a){var i,c,o;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,i=e.currentUser.id,c=e.currentEvent.id,t.next=6,Cn.createGreeting({userId:i,eventId:c,text:n,isPrivate:r,typeId:a});case 6:o=t.sent,e.toggleAddGreetingModal(),e.isLoading=!1,e.currentGreetings.push(o),console.log(e.currentGreetings),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e,n,r){return t.apply(this,arguments)}}()}}),Fe=Object(Ut.a)(ge.prototype,"updateGreeting",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n,r){var a;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cn.updateGreeting(n,r);case 2:t.sent&&(a=e.currentGreetings.find(function(e){return e.id===n}),Object.keys(r).forEach(function(e){a[e]=r[e]}));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}}),Qe=Object(Ut.a)(ge.prototype,"deleteGreeting",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(En.a)(vn.a.mark(function t(n){var r;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cn.deleteGreeting(n);case 2:r=e.currentGreetings.findIndex(function(e){return e.id===n}),e.currentGreetings.splice(r,1);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),We=Object(Ut.a)(ge.prototype,"logout",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentUser=null,e.queryParams.eventId=null,e.queryParams.userId=null,e.redirectTo="/"}}}),Be=Object(Ut.a)(ge.prototype,"toggleLoginModal",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isLoginModal=!e.isLoginModal}}}),Je=Object(Ut.a)(ge.prototype,"toggleNewEventModal",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isNewEventModal=!e.isNewEventModal}}}),Ye=Object(Ut.a)(ge.prototype,"toggleAddGreetingModal",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isAddGreetingModal=!e.isAddGreetingModal}}}),Ve=Object(Ut.a)(ge.prototype,"resetRedirectTo",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.redirectTo=null}}}),Ke=Object(Ut.a)(ge.prototype,"createChatRoom",[xt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(En.a)(vn.a.mark(function t(){var n;return vn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cn.createChatRoom(e.currentEvent.id);case 2:n=t.sent,e.currentEvent.chatRoomId=n;case 4:case"end":return t.stop()}},t,this)}))}}),ge);et.a.render(Ze.a.createElement(tt.a,{store:Un},Ze.a.createElement(On,null)),document.getElementById("root"))},98:function(e,t,n){e.exports=n(277)}},[[98,2,1]]]);
//# sourceMappingURL=main.f2473a35.chunk.js.map